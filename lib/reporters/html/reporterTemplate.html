<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Newman v3</title>
    </head>

    <body>
        {{#with summary}}
            <table class="summary" border="1px solid black" cellspacing="0">
                <thead>
                    <tr>
                        <th colspan="10">
                            <h1>Run Summary</h1>
                        </th>
                    </tr>
                    <tr>
                        <th colspan="5">
                            <h3>Collection: {{info.collectionName}}</h3>
                        </th>
                        <th colspan="5">
                            <h3>ID: {{info.collectionId}}</h3>
                        </th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <th>Property</th>
                        <th>Iterations</th>
                        <th>Items</th>
                        <th>Scripts</th>
                        <th>Pre requests</th>
                        <th>Requests</th>
                        <th>Tests</th>
                        <th>Assertions</th>
                        <th>Test scripts</th>
                        <th>Pre-request scripts</th>
                    </tr>

                    {{#with stats}}
                        <tr>
                            <th>Total</th>
                            <td>{{iterations.total}}</td>
                            <td>{{items.total}}</td>
                            <td>{{scripts.total}}</td>
                            <td>{{prerequests.total}}</td>
                            <td>{{requests.total}}</td>
                            <td>{{tests.total}}</td>
                            <td>{{assertions.total}}</td>
                            <td>{{testScripts.total}}</td>
                            <td>{{prerequestScripts.total}}</td>
                        </tr>

                        <tr>
                            <th>Pending</th>
                            <td>{{iterations.pending}}</td>
                            <td>{{items.pending}}</td>
                            <td>{{scripts.pending}}</td>
                            <td>{{prerequests.pending}}</td>
                            <td>{{requests.pending}}</td>
                            <td>{{tests.pending}}</td>
                            <td>{{assertions.pending}}</td>
                            <td>{{testScripts.pending}}</td>
                            <td>{{prerequestScripts.pending}}</td>
                        </tr>

                        <tr>
                            <th>Failed</th>
                            <td>{{iterations.failed}}</td>
                            <td>{{items.failed}}</td>
                            <td>{{scripts.failed}}</td>
                            <td>{{prerequests.failed}}</td>
                            <td>{{requests.failed}}</td>
                            <td>{{tests.failed}}</td>
                            <td>{{assertions.failed}}</td>
                            <td>{{testScripts.failed}}</td>
                            <td>{{prerequestScripts.failed}}</td>
                        </tr>
                    {{/with}}
                </tbody>

                <tfoot></tfoot>
            </table>

            <br>

            <table class="stats" border="1px solid black" cellspacing="0">
                <thead>
                    <tr>
                        <th colspan="4">
                            <h1>Run Statistics</h1>
                        </th>
                    </tr>
                    <tr>
                        <th rowspan="2">Total run duration</th>
                        <th rowspan="2">Bytes transferred in</th>
                        <th colspan="2">Variables</th>
                    </tr>
                    <tr>
                        <th>Environment</th>
                        <th>Global</th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>{{runDuration}}</td>
                        <td>{{transfers.responseTotal / 1024}}</td>
                        <td>{{Object.keys(environment.object()).length}}</td>
                        <td>{{Object.keys(globals.object()).length}}</td>
                    </tr>
                </tbody>

                <tfoot></tfoot>
            </table>

            <br>

            {{#each folders}}
                {{#with this}}
                    <table class="folders" border="1px solid black" cellspacing="0">
                        <thead>
                            <tr>
                                <th colspan="8">
                                    <h1>{{folder}}</h1>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            {{#each item}}
                                {{#with this}}
                                    <tr>
                                        <th colspan="4">{{name}}</th>
                                        <th colspan="4">{{url}}</th>
                                    </tr>

                                    <tr>
                                        <th colspan="3">Request</th>
                                        <th colspan="5">Response</th>
                                    </tr>

                                    <tr>
                                        <th>Method</th>
                                        <th>Headers</th>
                                        <th>Body</th>
                                        <th>Response time</th>
                                        <th>Response size</th>
                                        <th>Tests</th>
                                        <th>Headers</th>
                                        <th>Body</th>
                                    </tr>

                                    <tr>
                                        {{#with request}}
                                            <td>{{method}}</td>
                                            <td>{{headers}}</td>
                                            <td>
                                                <pre>{{body}}</pre>
                                            </td>
                                        {{/with}}

                                        {{#with response}}
                                            <td>{{time}}</td>
                                            <td>{{size}}</td>
                                            <td>
                                                <pre>{{tests}}</pre>
                                            </td>
                                            <td>{{headers}}</td>
                                            <td>
                                                <pre>{{body}}</pre>
                                            </td>
                                        {{/with}}
                                    </tr>
                                {{/with}}
                            {{/each}}
                        </tbody>

                        <tfoot></tfoot>
                    </table>
                {{/with}}
            {{/each}}
        {{/with}}
    </body>

    <footer></footer>
</html>
